/* Core green fire glow for SVG rects */
.fire-glow {
  /* change the rect fill to a bright green (override LeetCode) */
  fill: #00ff95 !important;

  /* multi-layer outer glow; GPU accelerated */
  filter:
    drop-shadow(0 0 6px rgba(50,255,114,0.9))
    drop-shadow(0 0 14px rgba(0,255,150,0.55))
    drop-shadow(0 0 28px rgba(0,200,100,0.25)) !important;

  /* tiny transform so GPU can composite smoothly */
  transform-box: fill-box;
  transform-origin: center;
}

/* subtle pulse + flicker to feel like fire */
.fire-glow.flame-anim {
  animation:
    flamePulse 900ms ease-in-out infinite,
    flameFlicker 220ms steps(2, end) infinite;
}

/* slightly larger flare event (applied briefly by JS) */
.fire-glow.flare {
  animation: flareBurst 320ms ease-out forwards;
  filter:
    drop-shadow(0 0 18px rgba(186,255,218,0.95))
    drop-shadow(0 0 36px rgba(140,255,190,0.6));
}

/* pulse of core color / brightness */
@keyframes flamePulse {
  0%   { fill: #00c973 !important; transform: translateY(0) scale(1); }
  40%  { fill: #00ff95 !important; transform: translateY(-0.6px) scale(1.02); }
  100% { fill: #00d88a !important; transform: translateY(0) scale(1); }
}

/* quick high-frequency flicker to simulate chaotic flames */
@keyframes flameFlicker {
  0%   { opacity: 1; }
  25%  { opacity: 0.88; transform: translateY(-0.4px); }
  50%  { opacity: 0.95; transform: translateY(0.3px); }
  75%  { opacity: 0.87; transform: translateY(-0.2px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* one-off flare burst for occasional bright pops */
@keyframes flareBurst {
  0%   { fill: #baffda !important; filter: drop-shadow(0 0 30px rgba(186,255,218,1)); opacity: 1; transform: scale(1.1); }
  100% { fill: #00ff95 !important; filter: drop-shadow(0 0 8px rgba(50,255,114,0.9)); opacity: 0.95; transform: scale(1); }
}

/* When we remove class, ensure default style returns */
rect.fire-glow { transition: filter 300ms ease, fill 300ms ease, transform 300ms ease, opacity 220ms ease; }
